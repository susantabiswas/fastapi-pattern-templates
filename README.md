# fastapi-pattern-templates
FastAPI patterns and their templates


## Setup Instructions

```
python -m pip install fastapi uvicorn sqlalchemy python-dotenv validators PyJWT Authlib pydantic_settings httpx
```

- To generate JWT secret key, run:
```
python -c "import secrets; print(secrets.token_hex(32))"
```


- Google OAuth2 Setup
    - Visit [Google Developer Console](https://console.cloud.google.com/apis/credentials)
    - click "Create Credentials" and select "OAuth client ID"
    - [Optional] Might have to configure "OAuth consent screen" first
    - select "Web Application" and click "Create"
    - copy the "Client ID" and "Client Secret" and paste them in the `.env` file


## How `state` is used in Google OAuth2

- Google OAuth2 uses the `state` parameter to prevent CSRF attacks. It is a random string generated by the application and sent to Google. Google then returns the same `state` parameter in the response. The application can then verify that the `state` parameter matches the one it generated.

- The `state` is stored in the session and sent to Google.
